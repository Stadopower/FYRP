My Job:
Find a way of interleaving EEG and EMG predictions so that participants can learn on the fly
to use the BCI. Also designing a setup for this

How?
Start by using the the driving data and not epoch it so we have a continous stream of data,
and make predictions on that. Here we need to try and get as good a performance as possible.
Good model for clean data, 



From this I can start thinking of a way to interleave the usage of EMG and EEG, mabye some tracking
if they would predict the same or not and if EEG predicts wrong for too long we use EMG to ensure
driving is still working.



And then if that seems to be working on the captured data, design it for a online experiment and try
it out.
-how much preproccessing can you do in this step?

Questions:
epochs_to_train_test
make_rough_emg_events?
why are classes for emg and eeg different?
I get a lot of exceptions and warnings when running the code
What exactly did he mean with the ICA thingy
threshold finding is not totally clear, its beacuse of finding the thrhold because of difference between calib and driving. all one prediciton problem. 
What exactly are the preproccessing steps that he is doing in the code?
Bandpass filter between 5-35 Hz, ICA, CSP filters



Simulation of analysys, interleaving continues
no participant


Meeting 30.4:

The problem i have run into is that since wednesday last week i didnt have access to my computer and on my laptop for some reason only loading the calibration data already makes my laptop crash. Colab setup also does not really work as my Wifi at home is absolute garbage.

What i did:
Make 200ms windows, and use his code to make the same predictions. 
For the windows im not sure what is more efficient or suitable for transitioning to online. Take data and make the 200ms windows and save them in a list/array or have the whole data and when looping over it making new 200ms windows that are then being used.
200ms because i also have EMG predictions for that, what should i do if I want bigger/smaller windows. How would i go about varifiying my predictions.



What i wanted to do lask week:

Apply CSP and then look at erds maps to see which frequency ranges per participant look the most promising for the CSP channels. From there probably use different filters or apply filter banks. Then use this information SVM to look at basic results. (Winning paper used Radial Basis NN, 2nd used SVM)

Then some more feature extraction based on some information criterion might be a good idea.
First is it Left Right? Then is it predicted type or rest.
The winning paper of berlin BCI split the resting state into multiple states and used PCA to extract the most informative or smth in this regards. Im not entirely sure what they exactly did and if this is something i should look into more detail.

First try normal Butterworth Filter then Chebyshev 

iir_params = dict(ftype='cheby1', gpass=3, gstop=20, output='sos')  # cheby2
iir_params = construct_iir_filter(iir_params, 40, 50, 1000, 'low')  

Is it CSP then Filter the fequency or vice versa?

Apply this information to the driving data and see what the results are.


----------------------------------------------------------
Meeting 14.05:
OK so i tried adjusting the weight matrix a bit this morning but not too much ill do that later today,
similar frequency bands ill adjust more to what is seen in the paper and focusing around different frequencies in the alpha band. 

When trying to use the larger epochs i get the not enough space error for the epochs so maybe they have an idea on how to fix this, if we want to make predictions often. Because we wanted to make them often i started with small windows to be able to run it on my PC with 16gb of ram. Doing 3.75s windwos with large overlap takes 20+ GB.

Ill try to implement the thing with the filters he mentioned. 
Question: How big is the difference between Butterworth filter and Chebyshev Type 2 Filter?

Ill also try the check if the problem is due to generalizeability with the two menthods he proposed.


Interleaving the predictions to learn using the BCI?
	- HOW?
	- I mean we make cont predictions with both EMG and EEG, but then we shouldnt use the EMG if possible right?
	- What are some of their ideas on how this could be done or what they want me to investigate and try?
	- Apart from design choices that are experiment dependent like showing what EEG would predict, rewarding the usage of EEG or more the not using of EMG.
	
	
Eager mode, MNE loading data only when needed. Maybe sever. Binary Only maybe? 
Butterworth

1. way:
narrow step in FQ


2. way
IAF, individual alpha frequency
plot spectrum alpha peak filter with 2hz

	
trasnfer, rehab

looking at probabilities and if they are low use emg
------------------------------------
Meeting 28.05

Intermediate feedback??

So i tried filter bank, individual peak freq and just normal sliding windwos. Accuracy did not really improve.
 What to do now? Is this good enough to start doing the interleaving of the predictions?
If so is the idea of doing it getting probabilities of the left right rest EEG predictions and if they are below some threshold we use EMG? 
What is being used for using an online stream? Do they have some resources?

So widening the frequency again. Indiv Binary and calibration on calib or driving on driving!

Pattern different? shape or different channels, find out differenvce between calib and driving patterns. 
most informative features of freq bank
show patterns, erds, features, csp and stuff! for training and testing.

On track, neurophysiology output, to better undestsand and interpret. Performance changes if reversed epochs that are defined. 
Small report on what i have been doing.

